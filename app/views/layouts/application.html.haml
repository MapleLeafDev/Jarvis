!!!
%html
  %head
    %title Jarvis
    <!--[if IE]><script scr="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]-->
    = stylesheet_link_tag "application", :media => "all"
    = javascript_include_tag "application"
    = csrf_meta_tags
    %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}
.navbar.navbar-inverse.navbar-fixed-top
  .navbar-inner
    .container-fluid
      %a.btn.btn-navbar{"data-target" => ".nav-collapse", "data-toggle" => "collapse"}
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      = link_to image_tag("jarvis.png"), root_url, class: "brand"
      .nav-collapse
        %ul.nav.pull-right
          -if current_user
            %li.dropdown.userdrop
              %a.dropdown-toggle{"data-toggle" => "dropdown", :href => "#"}
                %i.icon-user
                = image_tag(gravatar_for(current_user.email == nil || current_user.email == "" ? current_user.name : current_user.email), size: "30x30")
                = current_user.name
                %i.icon-caret-down
              %ul.dropdown-menu
                %li
                  =link_to 'Settings', edit_user_path(current_user)
                %li
                  = link_to 'Sign Out', signout_path
    .container{style: "position:fixed; top:55px; right:100px; width:300px;"}
      -if flash.count > 0
        .alert.fade.in.alert-danger{align: "center"}
          -flash.each do |name, msg|
            =content_tag :div, msg, :id => "flash_#{name}"
.container-fluid
  .row-fluid
    .span2
      -if current_user
        = render 'layouts/sidebar'
    .span10
      = yield

:javascript
  $('.dropdown-toggle').dropdown()